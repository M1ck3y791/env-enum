# âš¡ env-enum (Modular Edition)
### **Next-Gen Environment Enumerator & Endpoint Discovery Toolkit**

```
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—      â–ˆâ–ˆâ•—      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—    â–ˆâ–ˆâ•”â•      â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ–ˆâ–ˆâ•‘
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆ   â–ˆâ–ˆâ•”â•       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆ â–ˆâ–ˆâ•— â–ˆâ–ˆ â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆ â–ˆâ–ˆâ•”â•        â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•šâ•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ•”â•â•—â–ˆâ–ˆâ•‘
â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ•”â•         â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ•â•â• â•‘â–ˆâ–ˆâ•‘
â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•â•    â•šâ•â•â•          â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•â•šâ•â•      â•šâ•â•â•

             Modular Environment Enumerator & API/JS Recon Engine
```

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.9+-yellow?style=flat-square" />
  <img src="https://img.shields.io/badge/Architecture-Modular-blue?style=flat-square" />
  <img src="https://img.shields.io/badge/Async-AIOHTTP-green?style=flat-square" />
  <img src="https://img.shields.io/badge/JS_Analysis-Regex%2FExec-purple?style=flat-square" />
  <img src="https://img.shields.io/badge/Status-Active-brightgreen?style=flat-square" />
</p>

---

> âš™ï¸ **Welcome to the Modular Edition of env-enum!**  
> This version introduces a *plugin-ready architecture*, faster async engine, cleaner scanning layers, and highly extensible structure.  
>
> ğŸ”¥ **Awesome plugins coming soon!**

---

## ğŸ“š Table of Contents
- [ğŸš€ Introduction](#-introduction)
- [ğŸ— Modular Architecture](#-modular-architecture)
- [âœ¨ Key Features](#-key-features)
- [ğŸ“¦ Installation](#-installation)
- [âš™ Usage](#-usage)
- [ğŸ“ Sample Input File](#-sample-input-file-example-inputtxt)
- [ğŸ§© Plugins](#-plugins)
- [ğŸ“Œ Example Commands](#-example-commands)
- [ğŸ›  Future Improvements](#-future-improvements-ultra-compact)
- [ğŸ¤ Contributions](#-contributions)
- [ğŸ“œ License](#-license)

---

## ğŸš€ Introduction

The **modular edition** is a complete rewrite focused on:

- Clean separation between engine, scanner, and config  
- High-performance asynchronous recon  
- Plugin architecture for future expansion  
- Better JS crawling and dynamic string evaluation  
- More realistic environment subdomain logic  

This is the recommended version for **pentesters, bug hunters, red-teamers, and recon automation engineers**.

---

## ğŸ— Modular Architecture

```
env-enum/
â”‚â”€â”€ cli.py          â†’ CLI argument parsing
â”‚â”€â”€ main.py         â†’ PyPI entrypoint
â”‚â”€â”€ engine.py       â†’ Async crawling engine
â”‚â”€â”€ scanner.py      â†’ JS/HTML/API-doc analyzers
â”‚â”€â”€ core/
â”‚    â”œâ”€â”€ config.py  â†’ Regexes, constants, env prefixes
â”‚    â”œâ”€â”€ utils.py   â†’ Normalizers, SPA paths, builders
â”‚    â””â”€â”€ logger.py  â†’ Multi-level logging
â”‚â”€â”€ plugins/        â†’ ğŸ”¥ (Coming Soon) Drop-in scanner plugins
â”‚â”€â”€ pyproject.toml
â””â”€â”€ requirements.txt
```

---

## âœ¨ Key Features

### âš¡ High-Speed Async Recon
- `aiohttp` powered  
- Controlled concurrency  
- Recursive crawling with smart deduplication  

### ğŸ— Environment Subdomain Expansion  
Automatically generates dozens of permutations such as:

```
dev.example.com
qa-api.example.com
stage-admin.example.com
preview.app.example.com
v1.example.com
sandbox.example.com
```

### ğŸ•¸ JavaScript & JSON Deep Scanning  
- Regex-based JS endpoint detection  
- Optional JS evaluation via **py-mini-racer**  
- Sensitive token pattern recognition  
- JSON config path extraction  

### ğŸ” API Documentation Discovery  
Detects:

- `swagger.json`
- `openapi.json`
- `/graphql`
- `/api-docs`
- `/docs`

---

## ğŸ“¦ Installation

```bash
git clone -b modular https://github.com/Learn5ec/env-enum.git
cd env-enum
python3 -m venv env
source env/bin/activate
pip install -r requirements.txt
```

---

## âš™ Usage

```bash
python3 main.py input.txt
```

Optional flags:

```
--mode debug|verbose|discovery|quiet
--jsmode regex|exec
--concurrency 150
```

---

# ğŸ“ Sample Input File Example (input.txt)

```
example.com
api.example.com
https://portal.company.in
sub.project.internal
http://staging.company.io
www.saasproduct.xyz
demo.clientapp.org
login.partner.io
```

---

## âœ” Supported Formats

### **Bare domains**
```
example.com
target.xyz
company.in
```

### **Subdomains**
```
api.example.com
dev.company.io
portal.app.xyz
```

### **Full URLs (HTTP/HTTPS)**
```
https://app.example.com
http://legacy.company.in/login
```

### **Additional Accepted Styles**
- Mixed URLs + domains  
- Any number of lines  
- Comments (future feature)

---

## âœ” Auto-normalization

Automatically handles:

- Removing protocols  
- Stripping ports  
- Cleaning `user@host` patterns  
- Handling `www.` prefixes  
- Internal deduplication  

---

## âŒ Not recommended (but accepted gracefully)

- IP addresses (JS crawling makes them slow)  
- Localhost entries  
- Invalid TLDs / junk lines  

---

## ğŸ§© Plugins

> âš¡ **Plugins are first-class citizens in this version.**  
> Add your own scanners in the `plugins/` directory.

**Coming Soon:**
- Passive DNS  
- Cloud metadata probe  
- Param brute-force plugin  
- GraphQL introspection  

---

## ğŸ“Œ Example Commands

```bash
python3 main.py scope.txt --mode debug --jsmode exec --concurrency 150
```

```bash
python3 main.py scope.txt --mode discovery
```

```bash
python3 main.py scope.txt --jsmode regex
```

```bash
python3 main.py scope.txt --mode quiet
```

---

## ğŸ›  Future Improvements (Ultra-Compact)

- Reduce false positives (blank 200s, login redirects, disguised errors)  
- Smarter subdomain logic (pattern re-use, skip redundant tests)  
- Basic auth probing (common creds, login form detection)  
- Arjun integration (auto param merging)  
- ffuf enhancement (cookies, tokens, POST bodies, cleaner output)  
- Performance boosts (async pools, caching, pruning)  
- QoL features (screenshots, retries, framework fingerprinting)

ğŸ”¥ **And a full plugin ecosystem!**

---

## ğŸ¤ Contributions

PRs welcome!  
Please contribute:

- Plugins  
- Performance improvements  
- JS extraction logic  
- Regex signatures  

---

## ğŸ“œ License

MIT License â€” free for personal & commercial use.
